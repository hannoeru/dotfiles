function alias_if_exists() {
  # Does the alias only if the aliased program is installed
    if command -v $2 > /dev/null; then
        alias "$1"="$2"
    fi
}

# Better defaults
# alias ncdu='ncdu --confirm-quit --color dark'
alias crontab="VIM_CRONTAB=true crontab"
alias_if_exists 'diff' 'colordiff'
alias_if_exists 'ag' 'rg'
alias_if_exists 'vim' 'nvim'

# ssh
alias sshlink='ssh-copy-id -i ~/.ssh/id_rsa.pub'
alias sshconfig='nano ~/.ssh/config'

{{ if eq .chezmoi.os "darwin" }}
#mqtt
alias led_scheme='mosquitto_pub -h 192.168.25.9 -u {{- (onepasswordDetailsFields "ljwvpsxekcif6herrp6gnryzia").username.value }} -P {{- (onepasswordDetailsFields "ljwvpsxekcif6herrp6gnryzia").password.value }} -t jp/home/han/tasmota_54E3D3/cmnd/Scheme -m'
{{ end }}

# Shortcuts
{{- if eq .chezmoi.os "darwin" }}
alias dl="cd ~/Downloads"
alias p="cd ~/Project"
alias wine="wine64"
alias brewup='brew update; brew upgrade; brew prune; brew cleanup'
{{- end }}
alias up="cd ../"
alias la="ls -a"
alias lla="ls -al"
alias l="ls"
alias dotfiles="chezmoi cd"
# alias nmap="docker run --rm -it bytesizedalex/nmap"

# pnpm
alias -g npx="pnpm dlx"
alias u="pnpm update"
alias nad="pnpm add -D"
alias na="pnpm add"
alias pnpmu="pnpm i -g pnpm"

# update npm deps
alias udeps="taze major -rwu"

# run npm bin
alias nbr='PATH=$(npm bin):$PATH'

# vite
alias d="nr dev"
alias b="nr build"
alias s="nr serve"
alias t="nr test"
alias cva="pnpm dlx create-vite"

#docker
alias dsa="docker ps -q | xargs docker stop"
alias drma="docker ps -q | xargs docker rm"
alias drmia="docker images -q | xargs docker rmi"

#docker compose
alias dc="docker compose"
alias dce="docker compose exec"
alias dcl="docker compose logs"
alias dcps="docker compose ps"
alias dcup="docker compose up -d"
alias dcd="docker compose down"
alias dcb="docker compose build"
alias dckill="docker compose kill"

#python
alias py="python $1"
alias prp="pipenv run python $1"
alias ps="pipenv shell"
alias pi="pipenv install $1"
alias pu="pipenv uninstall $1"
alias pg="pipenv graph"
alias pr="pipenv --rm"

# Open Files

# Azure CLI files
alias -s azcli=code
# Markdown files
alias -s md=code
# JSON files
alias -s json=code
# bulk association
alias -s {cs,js,ts,html}=code
